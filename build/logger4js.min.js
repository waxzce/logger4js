/* 
 * Logger4js is a javascript logging library writte by Quentin ADAM - @waxzce
 * MIT licence
**/
 
if(modules===undefined){modules={}}modules.logger4js=function(d,c){var a=(function(){a=function(){this.initialize()};var i=a.prototype;i.initialize=function(){};i.log=function(m,k,l,j){if(console!=undefined){if(l!=null){console.log("--------------")}console.log(j.name+" :: "+j.levels.getName(k)+" : "+m);if(l!=null){console.log(l);console.log("--^--^--^--^--")}}};return a})();var h=function(l,i){var k={};for(var j in l){k[j]=l[j]}for(var j in i){k[j]=(l[j]!=undefined?l[j]:i[j])}return k};var f={loggers:{},named:function(j,i){if(i!=undefined){var k={};k[j]=i;f.loadConfiguration(k)}if(f.loggers[j]==undefined){f.loggers[j]=new b(f.getComputedConf(j,{name:j}))}return f.loggers[j]},loadConfiguration:function(m){for(var p in m){var k=p;var j=m[p];f.conf[k]=(f.conf[k]==undefined?j:h(j,f.conf[k]));var o=(k=="default");for(var i in f.loggers){if(i.indexOf(k)==0||o){f.loggers[i].switchwith(new b(f.getComputedConf(i,{name:i})))}}}},getComputedConf:function(m,j){var o=m.split(".");var l={};for(var n=1;n<=o.length;n++){var k=o.slice(0,n).join(".");l=h((f.conf[k]==undefined?{}:f.conf[k]),l)}if(j!=undefined){l=h(j,l)}l=h(l,f.conf["default"]);return l},noprint:function(){f.loadConf({"default":{noprint:true}})},conf:{"default":{loggerimpl:new a(),levels:["trace","debug","info","warning","error"],actualLvl:0,noprint:false}}};f.loadConf=f.loadConfiguration;var b=(function(){var i=function(k){this.initialize(k)};var j=i.prototype;j.initialize=function(k){this.name=k.name||"AnonymousLogger";this.loggerimpl=k.loggerimpl;this.levels=(k.levels.lvls==undefined?new e(k.levels):k.levels);this.actualLvl=(typeof k.actualLvl=="number"?k.actualLvl:this.levels[k.actualLvl]());this.noprint=k.noprint;if(this.noprint){this.log=function(){};for(var l in this.levels){this[l]=function(){}}}else{for(var l in this.levels){this[l]=this._log_wrapper(this.levels[l])}}};j.log=function(k,m,l){if(k>=this.actualLvl){this.loggerimpl.log(m,k,(l?l:null),this)}};j._log_wrapper=function(k){var k=k;return function(m,l){this.log(k(),m,l)}};j.getConf=function(){return f.conf[this.name]};j.getCConf=function(){return f.getComputedConf(this.name)};j.loadConf=function(k){return f.loadConfiguration(k)};j.loadConfiguration=j.loadConf;j.switchwith=function(k){for(var m in this){delete this[m]}for(var m in k){this[m]=k[m]}};j.killLogger=function(){this.log=function(){}};return i})();var e=(function(){var j=function(k){this.initialize(k)};var i=j.prototype;i.initialize=function(n){this.lvls=n;var m=function(l){return l};for(var k in n){this[n[k]]=this._log_wrapper(k)}};i.getName=function(k){return this.lvls[k]};i._log_wrapper=function(k){var k=k;return function(){return k}};return j})();c.DefaultLogger=f.named("DefaultLogger");for(var g in c.DefaultLogger){if(typeof c.DefaultLogger[g]=="function"){c[g]=function(){var i=g;return function(){c.DefaultLogger[i].apply(c.DefaultLogger,arguments)}}()}}for(var g in f){c[g]=f[g]}c.Logger=b;c.Levels=e;c.DefaultLoggerImpl=a};